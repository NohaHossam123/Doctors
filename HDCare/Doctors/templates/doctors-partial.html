<!-- search result -->
{% if doctors|length != 0 %}
<div class="row m-5">

    <!-- for filters -->
<div class="col-3">
<div class="card rounded sticky-top">
    <div class="card-header text-white bg-dark">
        <i class="fa fa-filter "></i>  Filter
    </div>
    <div class="card-body">
        <a href="{% url 'doctors' %}" class="btn btn-primary btn-md btn-block">
          <i class="fa fa-list text-white" aria-hidden="true"></i> All
        </a>
        <hr/>
        <div class="dropdown">
          <button class="btn btn-primary btn-md btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-graduation-cap text-white" aria-hidden="true"></i> Title
            </button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
              <a class="dropdown-item" href="/doctors/filterd?q=lecturer">lecturer</a>
              <a class="dropdown-item" href="/doctors/filterd?q=professor">professor</a>
              <a class="dropdown-item" href="/doctors/filterd?q=specialist">specialist</a>
            </div>
          </div>
    </div>
    <div class="card-footer bg-dark">
    </div>
    </div>
</div>

<div class="col-9 ">
<h5>All Doctors</h5>
<hr/>
{% for doctor in doctors %}
<div class="card mt-4 p-4">
<div class="row">
<div class="col-3">
  <img src="/media/{{ doctor.image }}" class="rounded" width="100%" height="180px">
  <a role="button" class="btn btn-dark mt-3 w-100" href="/doctors/doctor/{{doctor.id}}">More Details</a>
</div>
<div class="col-md">
  <strong class="text-info">Doctor </strong><a href="/doctors/doctor/{{ doctor.id }}">{{ doctor.first_name |add:" "|add:doctor.last_name }}</a>
  <div>{{ doctor.bio }}</div>
  <div>
    {% if doctor.avg_rating %}
    {% for i in rating %}
    {% if i|add:0 <=  doctor.avg_rating %} 
        <span class="fa fa-star text-warning"></span>
    {%else%}
        <span class="fa fa-star"></span>
    {% endif %}
    {% endfor %}
    {% endif %} 
  </div>
  <div><i class="fa fa-stethoscope text-info" aria-hidden="true"></i> {{ doctor.specialization }}</div>
  <div><i class="fa fa-map-marker text-info" aria-hidden="true"></i> {{ doctor.clinic_address }}</div>
  <div><i class="fa fa-money text-info" aria-hidden="true"></i><span class="text-info"> Fees:</span> {{ doctor.fees }} EGP</div>
  <div><i class="fas fa-clock text-info"></i> <span class="text-info">Waiting Time:</span> {{ doctor.waiting_time}}</div>
  <div><i class="fa fa-phone text-info" aria-hidden="true"></i><span class="text-info"></span> {{ doctor.phone }}</div>
</div>
</div>
</div>
{% endfor %}
</div>
</div>


  {% if doctors.has_other_pages %}
    <div class="d-flex justify-content-center">    

      <ul class="pagination">
              {% if doctors.has_previous %}
                  <li class="page-item"><a class="page-link" href="?page={{ doctors.previous_page_number }}">&laquo;</a></li>
              {% else %}
                  <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
              {% endif %}

              {% for i in doctors.paginator.page_range %}
                  {% if users.number == i %}
                      <li class="page-item active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                  {% else %}
                      <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                  {% endif %}
              {% endfor %}

              {% if users.has_next %}
                  <li class="page-item"><a class="page-link" href="?page={{ doctors.next_page_number }}">&raquo;</a></li>
              {% else %}
                  <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
              {% endif %}
          </ul>

    </div>
  {% endif %}


{% else %}

<div class="m-5">
    <h6 class="text-secondary "> search results:</h6>
    <h4 class="mb-5">No results found..</h4>
</div>

{% endif%}
