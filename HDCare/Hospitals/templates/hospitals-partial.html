{% if hospitals|length != 0%}

    <div class="row m-5">
        <!-- for filters -->
        <div class="col-3">
            <div class="card rounded sticky-top">
                <div class="card-header text-white bg-dark">
                    <i class="fa fa-filter "></i>  Filter
                </div>
                <div class="card-body">
                    <a href="{% url 'hospitals' %}" class="btn btn-primary btn-block">All</a>
                    <hr/>
                    <div class="dropdown">
                        <button class="btn btn-primary btn-md btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            City
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/hospitals/filterd?q=Cairo">Cairo</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Giza">Giza</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Alexandria">Alexandria</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Kafr El Sheikh">Kafr El Sheikh</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Ismailia">Ismailia</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Gharbia">Gharbia</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Dakahlia">Dakahlia</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Monufia">Monufia</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Damietta">Damietta</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Suez">Suez</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Port Said">Port Said</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Qalyubia">Qalyubia</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Sharqia">Sharqia</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Beheira">Beheira</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Aswan">Aswan</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Qena">Qena</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Faiyum">Faiyum</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Minya">Minya</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Sohag">Sohag</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Asyut">Asyut</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Beni Suef">Beni Suef</a>
                            <a class="dropdown-item" href="/hospitals/filterd?q=Luxor">Luxor</a>
                        </div>
                    </div>
                    <hr>
                    <div class="dropdown">
                        <button class="btn btn-primary btn-md btn-block dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Specilizations
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            
                            {% for spcialize in specialize_hospital %}
                            <a class="dropdown-item spcialize" href=/hospitals?s={{spcialize.name}} >{{spcialize.name}}</a>
                            {% endfor %}
                        </div>                        
                    </div>
                </div>
                <div class="card-footer bg-dark">
                </div>
            </div>
            
        </div>
        <!-- for hospitals -->
        <div class="col-9">
            <h5>All Hospitals</h5>
            <hr/>
            {% for hospital in hospitals %}
            <div class="card rounded mb-3">
                <div class="card-body row">
                    <div class="col-3 text-center">
                        <img src="/media/{{hospital.image}}" class="rounded" width="100%" height="170px"/>
                        <a role="button" class="btn btn-dark mt-3 w-100" href="/hospitals/h/{{hospital.id}}">More Details</a> 
                    </div>
                    <div class="col-9">
                        <a class="text-secondary h4 mb-2" href="/hospitals/h/{{hospital.id}}">{{hospital.name|title}}</a>
                        <p>
                            {% if hospital.avg_rate %}
                            {% for i in '12345'%}
                                {% if i|add:0 <=  hospital.avg_rate %} 
                                    <span class="fa fa-star text-warning"></span>
                                {% else %}
                                    <span class="fa fa-star"></span>
                                {% endif %}
                            {% endfor %}  
                            {% endif %}
                        </p>
                        <p> <i class="fa fa-map-marker text-danger"></i> &nbsp;{{hospital.location}}</p>
                        <p> <i class="fa fa-phone text-danger"></i> &nbsp;{{hospital.phone}}</p>
                        <p> <i class="fa fa-stethoscope	text-danger"></i> &nbsp;Available Specilizations:</p>
                        <ul>
                        {% for special in hospital.specializaiton_set.all %}
                        <li>{{special.name| title}}</li>
                        {%endfor%}
                        </ul>

                    </div>

                </div>
            </div>
            {%endfor%}
        </div>
    </div>
   
        {% if hospitals.has_other_pages %}
        <div class="d-flex justify-content-center">    

            <ul class="pagination">
                    {% if hospitals.has_previous %}
                        <li class="page-item"><a class="page-link" href="?page={{ hospitals.previous_page_number }}">&laquo;</a></li>
                    {% else %}
                        <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
                    {% endif %}

                    {% for i in hospitals.paginator.page_range %}
                        {% if users.number == i %}
                            <li class="page-item active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                        {% else %}
                            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
                        {% endif %}
                    {% endfor %}

                    {% if users.has_next %}
                        <li class="page-item"><a class="page-link" href="?page={{ hospitals.next_page_number }}">&raquo;</a></li>
                    {% else %}
                        <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
                    {% endif %}
                </ul>

        </div>
        {% endif %}


    {% else %}

    <div class="m-5">
        <h6 class="text-secondary "> search results:</h6>
        <h4 class="mb-5">No results found..</h4>
    </div>

{% endif%}
